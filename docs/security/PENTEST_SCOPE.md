# Penetration Testing Scope Document

**Document ID:** SEC-PENTEST-001  
**Version:** 1.0  
**Date:** January 4, 2026  
**Owner:** Security Team / CTO

---

## 1. Testing Objectives

Identify security vulnerabilities in MyAeroTravel ID web application and APIs to:
- Validate security controls effectiveness
- Identify exploitable vulnerabilities
- Assess compliance with ISO 27001
- Provide remediation recommendations

---

## 2. Scope

### 2.1 In-Scope Applications

**Production Environment** (Read-only testing):
- Public Website: `https://myaerotravel.id`
- Partner Portal: `https://myaerotravel.id/partner`
- Guide Mobile App (PWA): `https://myaerotravel.id/guide`

**Staging Environment** (Full testing):
- Staging URL: `https://staging.myaerotravel.id`
- All applications and APIs

### 2.2 In-Scope Testing Areas

**Web Application Security**:
- Authentication and authorization
- Session management
- Input validation
- XSS (Cross-Site Scripting)
- SQL Injection
- CSRF (Cross-Site Request Forgery)
- Security misconfigurations
- Sensitive data exposure

**API Security**:
- `/api/public/*` - Public APIs
- `/api/guide/*` - Guide APIs
- `/api/partner/*` - Partner APIs
- `/api/admin/*` - Admin APIs
- Authentication endpoints
- Payment processing endpoints

**Infrastructure**:
- SSL/TLS configuration
- HTTP security headers
- DNS configuration
- CORS policies

### 2.3 Out of Scope

- Physical security testing
- Social engineering
- Denial of Service (DoS) attacks
- Third-party services (Supabase, Midtrans, etc.)
- Production database direct access

---

## 3. Testing Methodology

### 3.1 Standards and Frameworks

- OWASP Top 10 2021
- OWASP API Security Top 10
- SANS Top 25
- ISO 27001 security controls

### 3.2 Testing Phases

**Phase 1: Reconnaissance (3 days)**
- Information gathering
- Technology stack identification
- Entry point mapping
- User role analysis

**Phase 2: Vulnerability Assessment (5 days)**
- Automated scanning
- Manual testing
- Configuration review
- Authentication testing

**Phase 3: Exploitation (3 days)**
- Proof of concept development
- Privilege escalation attempts
- Data access validation
- Business logic flaws

**Phase 4: Reporting (2 days)**
- Vulnerability documentation
- Risk rating
- Remediation recommendations
- Executive summary

---

## 4. Test Accounts

### 4.1 Provided Test Accounts

| Role | Username | Purpose |
|------|----------|---------|
| Customer | test_customer@myaerotravel.id | Public booking flow |
| Partner (Mitra) | test_partner@myaerotravel.id | Partner portal access |
| Tour Guide | test_guide@myaerotravel.id | Guide app testing |
| Admin (Ops) | test_admin@myaerotravel.id | Admin dashboard |

**Note**: Passwords will be provided via secure channel.

### 4.2 Test Data

Staging database pre-populated with:
- 50 sample packages
- 100 sample bookings
- 20 completed trips
- Sample customer data (synthetic)

---

## 5. Rules of Engagement

### 5.1 Allowed Activities

- Manual and automated vulnerability scanning
- Authentication bypass attempts
- Authorization testing
- Input validation testing
- Session hijacking attempts (staging only)
- File upload testing

### 5.2 Prohibited Activities

- **Do NOT** attack production environment aggressively
- **Do NOT** exfiltrate real customer data
- **Do NOT** perform DoS attacks
- **Do NOT** attack third-party services
- **Do NOT** social engineer employees
- **Do NOT** test during peak hours (18:00-22:00 WIB)

### 5.3 Communication

**Primary Contact**: security@myaerotravel.id  
**Emergency Contact**: +62 XXX XXXX XXXX (24/7)

Report immediately if:
- Critical vulnerability discovered
- Production system affected
- Data breach detected
- System instability observed

---

## 6. Vulnerability Severity Classification

### 6.1 Severity Levels

| Severity | CVSS Score | Definition | Example |
|----------|------------|------------|---------|
| **Critical** | 9.0-10.0 | Remote code execution, full system compromise | SQL injection with admin access |
| **High** | 7.0-8.9 | Significant data exposure, authentication bypass | Unauthorized access to customer data |
| **Medium** | 4.0-6.9 | Limited data exposure, some functionality compromise | XSS on non-critical pages |
| **Low** | 0.1-3.9 | Minimal risk, information disclosure | Version disclosure |
| **Info** | 0.0 | No direct risk, best practice recommendation | Missing security headers |

### 6.2 Remediation SLA

| Severity | Response Time | Fix Timeline |
|----------|---------------|--------------|
| Critical | 4 hours | 24 hours |
| High | 24 hours | 7 days |
| Medium | 3 days | 30 days |
| Low | 7 days | 90 days |

---

## 7. Expected Deliverables

### 7.1 Reports

**Executive Summary**:
- High-level findings
- Risk assessment
- Business impact
- Compliance status

**Technical Report**:
- Detailed vulnerability descriptions
- Reproduction steps
- Proof of concept
- Screenshots/evidence
- CVSS scores
- Remediation recommendations

**Retest Report**:
- Verification of fixes
- Residual risk assessment

### 7.2 Format

- PDF report (password-protected)
- Excel vulnerability tracker
- Presentation slides for management

---

## 8. Timeline

| Phase | Duration | Dates |
|-------|----------|-------|
| Kick-off Meeting | 1 day | TBD |
| Testing | 11 days | TBD |
| Draft Report | 2 days | TBD |
| Remediation | 30 days | TBD |
| Retest | 3 days | TBD |
| Final Report | 2 days | TBD |

**Total Duration**: ~50 days (including remediation)

---

## 9. Success Criteria

- Zero Critical vulnerabilities
- < 3 High vulnerabilities
- All OWASP Top 10 risks mitigated
- ISO 27001 control validation
- Compliance readiness confirmed

---

## 10. Appendices

### Appendix A: API Endpoint Inventory
See: `docs/security/API_INVENTORY.md`

### Appendix B: Technology Stack
- Next.js 16.0.10
- TypeScript
- Supabase (PostgreSQL)
- Vercel (hosting)
- Midtrans (payment)

### Appendix C: Security Controls Checklist
- Input validation: ✅ Zod schemas
- Rate limiting: ✅ Implemented
- Authentication: ✅ Supabase Auth
- Authorization: ✅ RLS policies
- Encryption: ✅ HTTPS, database encryption

---

## 11. Approval

**Prepared by**: Security Team  
**Reviewed by**: CTO  
**Approved by**: CEO  
**Date**: January 4, 2026

---

## 12. Confidentiality

This document contains sensitive information about system security. Distribution is strictly limited to:
- Penetration testing team
- MyAeroTravel ID security team
- Executive management

**Classification**: CONFIDENTIAL

